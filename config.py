import asyncio
from contextlib import suppress
from aiogram import types
from aiogram.utils.exceptions import (MessageCantBeDeleted, MessageToDeleteNotFound)
from dotenv import load_dotenv
import os

load_dotenv()

TOKEN_API = os.environ.get("TOKEN")

DB_HOST = os.environ.get("DB_HOST")
DB_PORT = os.environ.get("DB_PORT")
DB_NAME = os.environ.get("DB_NAME")
DB_USER = os.environ.get("DB_USER")
DB_PASS = os.environ.get("DB_PASS")

HELP_COMMAND = """
–ò—Ç–∞–∫ –¥–∞–≤–∞–π –ø—Ä–æ–π–¥–µ–º—Å—è –ø–æ —Ç–æ–º—É —á—Ç–æ —è –º–æ–≥—É –¥–µ–ª–∞—Ç—å)
<b>/description</b> - <em>–æ–ø–∏—Å–∞–Ω–∏–µ –±–æ—Ç–∞</em>
<b>/vacancies</b> - <em>–Ω–∞—á–∞—Ç—å –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤–∞–∫–∞–Ω—Å–∏–∏</em>
<b>/statistic</b> - <em>—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</em>
"""

DESCRIPTION_COMMAND = """
–Ø <b>–±–æ—Ç-–ø–æ–º–æ—â–Ω–∏–∫</b>ü§ñ –≤ –ø–æ–∏—Å–∫–∞—Ö —Ç–≤–æ–µ–π —Ä–∞–±–æ—Ç—ã, —è —Ä–∞–±–æ—Ç–∞—é —Å –ø–æ–º–æ—â—å—é –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ <a  href="https://dev.hh.ru/">HH API</a>üòå. 

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ç–≤–æ–µ–º—É –∞–∫–∫–∞—É–Ω—Ç—É –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª <a href="https://github.com/hhru/api/blob/master/docs/authorization.md">OAuth</a>üîê –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç —Ç–≤–æ–∏ –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. 

–ü–æ—ç—Ç–æ–º—É —Ç–µ–±–µ –Ω–µ —Å—Ç–æ–∏—Ç –±–µ—Å–ø–æ–∫–æ–∏—Ç—å—Å—è –æ —Å–≤–æ–µ–π –±–µ–∑–æ–ø–∞—Å—Ç–Ω–æ—Å—Ç–∏üòâ.

–Ø –º–æ–≥—É —Ç–µ–±–µ —Å–∫–∏–¥—ã–≤–∞—Ç—å –æ–±—ä—è—Å–≤–ª–µ–Ω–∏–µ –æ —Ä–∞–±–æ—Ç–µ –∞ —Ç—ã –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –≤—ã–±–∏—Ä–∞—Ç—å –Ω—Ä–∞–≤–∏—Ç—Å—è "üëç" –∏–ª–∏ –Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è "üëé", –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–≤–æ–µ–≥–æ –æ—Ç–≤–µ—Ç–∞ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Ç–≤–æ–π –æ—Ç–∫–ª–∏–∫ —Ä–∞–±–æ—Ç–∞–¥–∞—Ç–µ–ª—é –∏–ª–∏ –º—ã –ø–µ—Ä–µ–π–¥–µ–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –æ–±—ä—è–≤–ª–µ–Ω–∏—é)

–ñ–µ–ª–∞—é —Ç–µ–±–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Ä–∞–±–æ—Ç—ã!üòÄ
"""

START_COMMAND = """
<em>–ü—Ä–∏–≤–µ—Ç <b>{0}</b>, —è –ø–æ–º–æ–≥—É —Ç–µ–±–µ –Ω–∞–π—Ç–∏ —Ä–∞–±–æ—Ç—É‚ù§Ô∏è</em>
"""

STATISTIC_COMAND = """
<em>–¢–≤–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∫–∞:</em>

üëç - <b>{0}</b>

üëé - <b>{1}</b>

<em>{2}</em>
"""

under50 = '–ù–∞—á–∞–ª–æ –ø–æ–ª–æ–∂–µ–Ω–æ –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–ª–æ –∫–∞–∂–¥—ã–µ 10 –æ—Ç–∫–ª–∏–∫–æ–≤ –ø—Ä–∏–Ω–æ—Å—è—Ç –æ–¥–∏–Ω –æ—Ñ–µ—Ä, –Ω–µ –Ω—É–∂–Ω–æ —Ä–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å—Å—èüòÄ'
unde100 = '–£–∂–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ—Ç–∫–ª–∏–∫–æ–≤, –≤–∏–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ —Ç—ã –ß–ú–û –µ–±–∞–Ω–æ–µ –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞—Ö –Ω–∏–∫–æ–º—É –Ω–µ –Ω—É–∂–Ω–æüòâ'

async def delete_message(message: types.Message, sleep_time: int = 0):
    await asyncio.sleep(sleep_time)
    with suppress(MessageCantBeDeleted, MessageToDeleteNotFound):
        await message.delete()